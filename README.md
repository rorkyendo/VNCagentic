# VNCagentic - LLM-Driven VNC Desktop Control Agent

**Author: Taufiq Rorkyendo**

**Demo Video : [Watch Video](https://www.canva.com/design/DAGv0Gd930Q/aNu3VYay6GZprOGW4xns8w/watch?utm_content=DAGv0Gd930Q&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h62903edf47)**

**Claude Computer Use**

A clean, minimal, production-ready LLM-driven agent for controlling VNC/X11 desktop environments through natural language commands. Built with FastAPI, PostgreSQL, and Docker for scalable deployment.

## ğŸ¯ Project Overview

VNCagentic is a **pure generative AI agent** that translates natural language commands into precise xdotool commands for desktop control. The agent maintains no hardcoded logic - all desktop interactions are dynamically generated by the LLM based on user intent.

### Core Philosophy
- **Pure AI-Driven**: No hardcoded command mappings, all logic generated by LLM
- **Clean & Minimal**: Only essential features, no unnecessary complexity
- **Production Ready**: Containerized, scalable, with proper error handling
- **Session Persistence**: Chat history and session management for context

## âœ¨ Key Features

### ğŸ¤– AI Agent Capabilities
- **Natural Language Processing**: "open firefox and search weather jakarta"
- **Multi-Application Control**: Simultaneously launch and manage multiple apps
- **Flexible Command Generation**: Dynamically adapts to user requests
- **Context Awareness**: Maintains conversation history for better understanding

### ğŸ–¥ï¸ Desktop Control
- **Application Launching**: Firefox, Calculator, Text Editor, Terminal
- **Text Input**: Type text in any application
- **Mouse Control**: Click, scroll, drag operations
- **Keyboard Shortcuts**: Window management, navigation
- **Complex Workflows**: Multi-step automation sequences

### ğŸ—ï¸ System Architecture
- **Microservices**: Separated concerns with Docker containers
- **REST API**: Clean endpoint design for chat and VNC execution
- **Session Management**: PostgreSQL for persistent chat history
- **VNC Integration**: Real-time desktop access via noVNC
- **Health Monitoring**: Container health checks and error handling

## ğŸ® Usage Examples

### Basic Application Control
```
User: "open calculator"
AI Response: Opens calculator application
Commands: ["DISPLAY=:1 xcalc &"]

User: "open firefox and search weather jakarta"  
AI Response: Opens Firefox and searches for Jakarta weather
Commands: [
  "DISPLAY=:1 firefox-esr &",
  "sleep 5",
  "xdotool key ctrl+l", 
  "sleep 1",
  "xdotool type \"weather jakarta\"",
  "xdotool key Return"
]
```

### Text and Input Control
```
User: "type hello world"
AI Response: Types text in active window
Commands: ["xdotool type \"hello world\""]

User: "klik di koordinat 300 200"
AI Response: Clicks at specified coordinates
Commands: [
  "xdotool mousemove 300 200",
  "sleep 1", 
  "xdotool click 1"
]
```

### Window Management
```
User: "tutup window"
AI Response: Closes active window
Commands: ["xdotool key alt+F4"]

User: "scroll ke bawah"
AI Response: Scrolls down
Commands: [
  "xdotool click 5",
  "xdotool click 5", 
  "xdotool click 5"
]
```

## ğŸ—ï¸ Architecture

### System Components
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   Database      â”‚
â”‚   (Port 3000)   â”‚â—„â”€â”€â–ºâ”‚   (Port 8000)   â”‚â—„â”€â”€â–ºâ”‚   PostgreSQL    â”‚
â”‚   HTML/CSS/JS   â”‚    â”‚   FastAPI       â”‚    â”‚   (Port 5432)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚   VNC Agent     â”‚    â”‚   Redis Cache   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   (Port 6080)   â”‚    â”‚   (Port 6379)   â”‚
                        â”‚   xdotool API   â”‚    â”‚   Session State â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Flow
1. **User Input**: Natural language command via web chat
2. **AI Processing**: LLM generates JSON-formatted xdotool commands  
3. **Command Execution**: VNC agent executes commands on desktop
4. **Visual Feedback**: User sees results in VNC viewer
5. **Session Persistence**: Chat history stored in PostgreSQL

### Core Services

#### 1. Backend API (`backend/`)
- **FastAPI Application**: High-performance async web framework
- **AI Generative Agent**: LLM integration with Comet API
- **Session Management**: PostgreSQL-backed chat persistence
- **Health Checks**: Container monitoring and status endpoints

#### 2. VNC Agent (`vnc-agent/`)
- **Desktop Environment**: Ubuntu with X11, xdotool, applications
- **Command Executor**: HTTP API for xdotool command execution
- **noVNC Server**: Web-based VNC client for browser access
- **Application Suite**: Firefox, Calculator, Text Editor, Terminal

#### 3. Frontend (`frontend/`)
- **Pure HTML/CSS/JS**: No framework dependencies
- **REST API Client**: Direct communication with backend
- **Responsive Design**: Mobile and desktop compatible
- **Real-time Updates**: Auto-refresh chat history

#### 4. Database Layer
- **PostgreSQL**: Session and message persistence
- **Redis**: Session state caching and temporary data
- **Health Monitoring**: Container health checks

## ğŸ”§ Technical Implementation

### AI Agent Design
The core innovation is the **pure generative approach**:

```python
class AIGenerativeAgent:
    """Pure AI agent - no hardcoded command mappings"""
    
    async def process_message(self, user_message: str) -> Dict[str, Any]:
        # 1. Generate AI response with JSON commands
        ai_response = await self._generate_ai_response(user_message)
        
        # 2. Extract xdotool commands from JSON
        commands = self._extract_xdotool_commands(ai_response)
        
        # 3. Execute commands via VNC API
        results = await self._execute_commands(commands)
        
        return {"response": ai_response, "results": results}
```

### LLM System Prompt
The agent uses a comprehensive system prompt that defines:
- Available applications and their executable names
- xdotool command syntax and examples
- JSON response format requirements
- Best practices for timing and coordination

### Command Generation Format
All AI responses follow this structure:
```json
{
  "action": "Brief description in Indonesian", 
  "commands": [
    "DISPLAY=:1 firefox-esr &",
    "sleep 3",
    "xdotool key ctrl+l"
  ]
}
```

## ğŸ“ Project Structure

```
VNCagentic/
â”œâ”€â”€ backend/                 # FastAPI backend service
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/          # AI generative agent
â”‚   â”‚   â”œâ”€â”€ api/            # REST endpoints
â”‚   â”‚   â”œâ”€â”€ core/           # Configuration
â”‚   â”‚   â”œâ”€â”€ database/       # PostgreSQL models
â”‚   â”‚   â””â”€â”€ services/       # Business logic
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”‚
â”œâ”€â”€ vnc-agent/              # VNC desktop environment
â”‚   â”œâ”€â”€ vnc_api.py          # Command execution API
â”‚   â”œâ”€â”€ entrypoint.sh       # Container startup
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ frontend/               # Web interface
â”‚   â”œâ”€â”€ index.html          # Main chat interface
â”‚   â”œâ”€â”€ app.js              # Frontend logic
â”‚   â””â”€â”€ styles.css          # Responsive styles
â”‚
â”œâ”€â”€ docs/                   # Documentation
â”‚   â””â”€â”€ API.md              # API reference
â”‚
â”œâ”€â”€ docker-compose.yml      # Multi-container setup
â”œâ”€â”€ .env.example           # Environment template
â””â”€â”€ README.md              # This file
```

## ğŸŒ API Reference

### Chat Endpoints
- `POST /api/simple/chat` - Send message to AI agent
- `GET /api/sessions` - List chat sessions  
- `POST /api/sessions` - Create new session
- `GET /api/sessions/{id}/messages` - Get session messages

### VNC Endpoints  
- `POST /vnc/execute` - Execute xdotool command
- `POST /vnc/screenshot` - Take desktop screenshot

### System Endpoints
- `GET /health` - Backend health check
- `GET /` - API documentation

See `docs/API.md` for detailed endpoint documentation.

## ğŸš¢ Deployment Guide

### Development Setup
```bash
# Clone repository
git clone <repo-url>
cd VNCagentic

# Copy environment template
cp .env.example .env

# Edit configuration
nano .env

# Start services
docker-compose up --build
```

### Production Deployment
```bash
# Build optimized images
docker-compose -f docker-compose.prod.yml up --build -d

# Monitor logs
docker-compose logs -f

# Scale backend if needed
docker-compose up --scale backend=3 -d
```

### Environment Configuration
```bash
# Required API settings
COMET_API_KEY=your_comet_api_key
COMET_API_BASE_URL=https://your-comet-endpoint.com
COMET_MODEL=cometapi-3-7-sonnet
COMET_MAX_TOKENS=1024

# Database settings
POSTGRES_DB=vncagentic
POSTGRES_USER=postgres
POSTGRES_PASSWORD=secure_random_password
DATABASE_URL=postgresql://postgres:password@postgres:5432/vncagentic

# Redis settings
REDIS_URL=redis://redis:6379/0

# Application settings
API_PROVIDER=comet
LOG_LEVEL=INFO
```

## ğŸ” Monitoring & Troubleshooting

### Health Checks
```bash
# Check all services
docker-compose ps

# Backend health
curl http://localhost:8000/health

# VNC API status
curl -X POST http://localhost:8090/execute \
  -H "Content-Type: application/json" \
  -d '{"command":"echo test"}'
```

### Common Issues

#### VNC Agent Not Responding
```bash
# Restart VNC API server
docker exec -d vncagentic-vnc-agent-1 bash -c "cd /home/computeruse && python3 vnc_api.py"

# Check processes
docker exec vncagentic-vnc-agent-1 ps aux | grep python
```

#### AI Commands Not Executing
1. Verify Comet API key is valid
2. Check backend logs: `docker-compose logs backend`
3. Ensure VNC agent container is healthy
4. Test command execution manually

#### Database Connection Issues
```bash
# Check PostgreSQL logs
docker-compose logs postgres

# Verify connection
docker exec vncagentic-backend-1 python -c "import asyncpg; print('OK')"
```

## ğŸ§ª Testing

### Manual Testing
1. Open chat interface: http://localhost:3000
2. Open VNC viewer: http://localhost:6080  
3. Send commands and verify desktop changes
4. Check chat history persistence

### Automated Testing
```bash
# Run backend tests
docker exec vncagentic-backend-1 python -m pytest

# Test API endpoints
curl -X POST http://localhost:8000/api/simple/chat \
  -H "Content-Type: application/json" \
  -d '{"message":"open calculator"}'
```

## ğŸ¤ Contributing

### Development Workflow
1. Fork repository
2. Create feature branch
3. Implement changes with tests
4. Update documentation
5. Submit pull request

### Code Standards
- Python: Black formatting, type hints
- JavaScript: ES6+ standards
- Docker: Multi-stage builds for optimization
- Documentation: Update README for new features

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.

## ğŸ“ Support

For questions or issues:
- Create GitHub issue for bugs
- Check troubleshooting section first
- Review logs with `docker-compose logs`

---

**VNCagentic** - Bringing natural language control to desktop environments through pure AI generation.

### Service Launch and Endpoint Functionality
- Docker compose startup process
- API endpoint testing via Swagger UI
- WebSocket connection establishment
- VNC integration demonstration

### Usage Case Demonstrations

#### Usage Case 1: Search Weather in Dubai
## ğŸ› ï¸ Installation & Deployment

### Prerequisites
- Docker & Docker Compose
- Git
- 4GB+ RAM recommended
- Port 3000, 5432, 5900, 6080, 6379, 8000 available

### Quick Start

1. **Clone Repository**
```bash
git clone https://github.com/rorkyendo/VNCagentic.git
cd VNCagentic
```

2. **Configure Environment**
```bash
cp .env.example .env
# Edit .env file with your configurations
```

3. **Deploy with Docker**
```bash
# Build and start all services
docker-compose up --build -d

# Check status
docker-compose ps

# View logs
docker-compose logs -f
```

4. **Access Applications**
- **Frontend**: http://localhost:3000
- **API Docs**: http://localhost:8000/docs
- **VNC Desktop**: http://localhost:6080/vnc.html
- **Backend API**: http://localhost:8000

### Environment Configuration

Create `.env` file with the following variables:

```env
# Database Configuration
POSTGRES_DB=vncagentic
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123
DATABASE_URL=postgresql+asyncpg://postgres:postgres123@postgres:5432/vncagentic

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# API Configuration
COMET_API_URL=https://api.comet.ml/api/chat/conversions
COMET_API_KEY=your_comet_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# VNC Configuration
VNC_PASSWORD=vncpassword
DISPLAY=:1

# Security
SECRET_KEY=your-secret-key-here
```

## ğŸ”§ Service Details

### Frontend Service
- **Technology**: HTML5, CSS3, JavaScript ES6
- **Features**: Responsive design, auto-refresh, scroll handling
- **Port**: 3000
- **Build**: Python SimpleHTTPServer

### Backend Service
- **Technology**: FastAPI, SQLAlchemy, AsyncPG
- **Features**: REST API, WebSocket support, session management
- **Port**: 8000
- **Database**: PostgreSQL with async ORM

### VNC Agent Service
- **Technology**: Ubuntu + XFCE + noVNC
- **Features**: Full desktop environment, screenshot API
- **Ports**: 5900 (VNC), 6080 (Web)
- **Desktop**: XFCE4 lightweight desktop

### Database Services
- **PostgreSQL**: Primary database (Port 5432)
- **Redis**: Cache and session store (Port 6379)

## ğŸ“ API Documentation

### Core Endpoints

#### Sessions Management
```http
GET    /api/v1/sessions           # List all sessions
POST   /api/v1/sessions           # Create new session
GET    /api/v1/sessions/{id}      # Get session details
DELETE /api/v1/sessions/{id}      # Delete session
```

#### Messages Management
```http
GET    /api/v1/sessions/{id}/messages    # Get session messages
POST   /api/v1/sessions/{id}/messages    # Send new message
```

#### VNC Operations
```http
GET    /api/v1/vnc/{session_id}/screenshot    # Take screenshot
POST   /api/v1/vnc/{session_id}/action        # Send VNC action
```

#### Health Check
```http
GET    /health                   # Service health status
```

### WebSocket Endpoints
```
WS     /api/v1/sessions/{id}/stream        # Real-time session updates
```

## ğŸ’» Usage Guide

### Starting a New Session

1. **Access Frontend**: Open http://localhost:3000
2. **Create Session**: Click "Start New Agent Task"
3. **Send Message**: Type in chat input and press Enter
4. **View VNC**: Desktop environment loads automatically
5. **Agent Response**: AI responds via CometAPI integration

### Managing Sessions

- **Task History**: View all previous sessions in left panel
- **Clear History**: Use ğŸ—‘ï¸ button to delete all sessions
- **Session Info**: View current session details in chat panel
### VNC Desktop Usage

- **Direct Access**: http://localhost:6080/vnc.html
- **Embedded View**: Integrated in frontend interface
- **Screenshot**: Available via API or toolbar
- **Interaction**: Full mouse/keyboard support

## ğŸ” Troubleshooting

### Common Issues

1. **Port Conflicts**
   ```bash
   # Check port usage
   netstat -tlnp | grep :3000
   # Stop conflicting services
   docker-compose down
   ```

2. **Database Connection**
   ```bash
   # Check PostgreSQL logs
   docker-compose logs postgres
   # Reset database
   docker-compose down -v
   docker-compose up -d
   ```

3. **VNC Not Loading**
   ```bash
   # Check VNC service
   docker-compose logs vnc-agent
   # Restart VNC
   docker-compose restart vnc-agent
   ```

4. **Agent Not Responding**
   ```bash
   # Check backend logs
   docker-compose logs backend
   # Verify API keys in .env
   ```

### Performance Optimization

1. **Memory Usage**
   - Allocate 4GB+ RAM
   - Monitor with `docker stats`

2. **Database Performance**
   - Regular cleanup of old sessions
   - Use clear history feature

3. **Network Latency**
   - Use local deployment
   - Optimize Docker networking

## ğŸš§ Development

### Project Structure
```
VNCagentic/
â”œâ”€â”€ backend/                 # FastAPI application
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # API endpoints
â”‚   â”‚   â”œâ”€â”€ models/         # Database models
â”‚   â”‚   â”œâ”€â”€ services/       # Business logic
â”‚   â”‚   â””â”€â”€ main.py         # Application entry
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/               # Web interface
â”‚   â”œâ”€â”€ index.html         # Main page
â”‚   â”œâ”€â”€ app.js            # JavaScript logic
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ vnc-agent/             # VNC desktop setup
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ entrypoint.sh
â”œâ”€â”€ docker-compose.yml     # Service orchestration
â”œâ”€â”€ .env.example          # Environment template
â””â”€â”€ README.md            # This file
```

### Running in Development

1. **Backend Development**
```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

2. **Frontend Development**
```bash
cd frontend
python -m http.server 3000
```

3. **Database Setup**
```bash
# Local PostgreSQL
createdb vncagentic
# Apply migrations
alembic upgrade head
```

## ğŸ“Š Monitoring

### Health Checks
- **Backend**: http://localhost:8000/health
- **Database**: Connection status in logs
- **VNC**: http://localhost:6080/vnc.html
- **Redis**: Connection via backend health

### Logging
```bash
# All services
docker-compose logs -f

# Specific service
docker-compose logs -f backend
docker-compose logs -f vnc-agent
```

## ğŸ” Security Considerations

1. **Environment Variables**: Keep API keys secure
2. **VNC Password**: Change default VNC password
3. **Network**: Use firewalls for production
4. **Database**: Secure PostgreSQL configuration
5. **API**: Implement authentication for production

## ğŸš€ Production Deployment

### Docker Swarm
```bash
# Initialize swarm
docker swarm init

# Deploy stack
docker stack deploy -c docker-compose.yml vncagentic
```

### Kubernetes
```yaml
# Use provided k8s manifests
kubectl apply -f k8s/
```

### Scaling
```bash
# Scale backend
docker-compose up --scale backend=3 -d

# Scale with load balancer
# Add nginx or traefik configuration
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create feature branch: `git checkout -b feature-name`
3. Commit changes: `git commit -m 'Add feature'`
4. Push to branch: `git push origin feature-name`
5. Submit pull request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

**Author's Note:**

I have made my best effort to create a comprehensive computer use agent system. While I don't have access to Claude Anthropic's API key for full functionality, this implementation provides the closest approximation possible. The system successfully functions as an AI agent that can read desktop screenshots and provide intelligent responses through alternative API integration (CometAPI).

The architecture is designed to be modular and extensible, allowing for easy integration with other AI providers or enhancement of existing capabilities.

---

**Created with â¤ï¸ by Taufiq Rorkyendo**

For questions, issues, or contributions, please visit the [GitHub repository](https://github.com/rorkyendo/VNCagentic) or contact the author.
python demo.py
```

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   FastAPI       â”‚    â”‚   PostgreSQL    â”‚
â”‚   (HTML/JS)     â”‚â—„â”€â”€â–ºâ”‚   Backend       â”‚â—„â”€â”€â–ºâ”‚   Database      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   Computer Use  â”‚
                       â”‚   Agent Stack   â”‚
                       â”‚   (VNC + Tools) â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Quick Start

**New to VNCagentic?** Follow our [ğŸ“– Quick Start Guide](docs/QUICKSTART.md) for step-by-step setup in 5 minutes.

### Prerequisites
- Docker & Docker Compose
- 4GB RAM minimum  
- Comet API key for LLM integration
- Ports available: 3000, 6080, 8000, 8090

### Fast Setup
```bash
# 1. Clone and setup
git clone <repository-url>
cd VNCagentic
cp .env.example .env

# 2. Configure API key (edit .env)
COMET_API_KEY=your_api_key_here
COMET_API_BASE_URL=https://api.comet.ml

# 3. Deploy
docker-compose up --build -d

# 4. Access
# Chat: http://localhost:3000
# VNC:  http://localhost:6080
```

ğŸ“– **For detailed setup with troubleshooting, see [Quick Start Guide](docs/QUICKSTART.md)**
```

3. **Run with Docker Compose**:
```bash
docker-compose up -d
```

4. **Test API connection**:
```bash
# Test your API provider setup
python quick_test.py
```

5. **Access the application**:
- Frontend: http://localhost:3000
- API Documentation: http://localhost:8000/docs
- VNC Web Interface: http://localhost:6080/vnc.html

### Local Development

1. **Prerequisites**:
- Python 3.11+
- PostgreSQL
- Node.js (for frontend)

2. **Backend setup**:
```bash
cd backend
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
```

3. **Database setup**:
```bash
createdb vncagentic
alembic upgrade head
```

4. **Run the backend**:
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

5. **Frontend setup**:
```bash
cd frontend
npm install
npm start
```

## API Documentation

### Complete API Reference

Once running, visit **http://localhost:8000/docs** for the interactive OpenAPI documentation.

#### Core Session Management Endpoints

```http
POST /api/v1/sessions
Content-Type: application/json

{
  "title": "Weather Search Task",
  "model": "claude-sonnet-4-20250514",
  "api_provider": "anthropic",
  "user_id": 1
}
```

```http
GET /api/v1/sessions
# Returns: List of all sessions with pagination

GET /api/v1/sessions/{session_id}
# Returns: Detailed session information

PATCH /api/v1/sessions/{session_id}
# Update session title, status, etc.

DELETE /api/v1/sessions/{session_id}
# Delete session and cleanup resources
```

#### Message Management

```http
POST /api/v1/messages/{session_id}/messages
Content-Type: application/json

{
  "content": "Search the weather in Dubai",
  "role": "user"
}
```

```http
GET /api/v1/messages/{session_id}/messages
# Returns: Complete chat history for session
```

#### VNC Integration

```http
GET /api/v1/vnc/{session_id}
# Returns: VNC connection details and web URL

GET /api/v1/vnc/{session_id}/screenshot
# Returns: Current desktop screenshot
```

#### Real-time WebSocket

```javascript
// Connect to session stream
const ws = new WebSocket('ws://localhost:8000/api/v1/sessions/{session_id}/stream');

// Send user message
ws.send(JSON.stringify({
  type: 'user_message',
  content: 'Search the weather in Dubai'
}));

// Receive real-time updates
ws.onmessage = (event) => {
  const message = JSON.parse(event.data);
  // Handle: agent_message, tool_call, tool_result, status, error
};
```

### Architecture Documentation

See [SEQUENCE_DIAGRAM.md](SEQUENCE_DIAGRAM.md) for detailed sequence diagrams showing:
- Session creation and management flow
- Real-time message processing
- VNC integration patterns
- Database interaction patterns

## API Provider Support

### CometAPI Integration (Recommended)

VNCagentic supports **CometAPI** as an Anthropic-compatible provider, offering:

âœ… **Cost-effective alternative** to direct Anthropic API  
âœ… **Drop-in replacement** - same interface, same functionality  
âœ… **Multiple Claude models** available  
âœ… **Enterprise-grade reliability**  

#### Quick Setup with CometAPI

1. **Get CometAPI Key**: Visit [CometAPI](https://api.cometapi.com) and get your API key
2. **Configure**: Set `API_PROVIDER=comet` in your `.env` file
3. **Test**: Run `python quick_test.py` to validate connection

```bash
# .env configuration for CometAPI
API_PROVIDER=comet
COMET_API_BASE_URL=https://api.cometapi.com
ANTHROPIC_API_KEY=sk-your-cometapi-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
```

**ğŸ“– Full Documentation**: See [docs/COMETAPI.md](docs/COMETAPI.md) for comprehensive setup guide.

### Anthropic Direct API

For direct Anthropic API usage:

```bash
# .env configuration for Anthropic
API_PROVIDER=anthropic
ANTHROPIC_API_URL=https://api.anthropic.com
ANTHROPIC_API_KEY=your-anthropic-key-here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
```

## Environment Variables

Create a `.env` file with the following variables:

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/vncagentic

# Anthropic API
ANTHROPIC_API_KEY=your_anthropic_api_key

# VNC Configuration
VNC_PASSWORD=your_vnc_password
VNC_DISPLAY=:1

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
SECRET_KEY=your_secret_key

# Agent Configuration
MAX_SESSIONS=10
SESSION_TIMEOUT_MINUTES=60
```

## Project Structure

```
VNCagentic/
â”œâ”€â”€ backend/                    # FastAPI backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â”‚   â”œâ”€â”€ core/              # Core configuration
â”‚   â”‚   â”œâ”€â”€ models/            # Database models
â”‚   â”‚   â”œâ”€â”€ services/          # Business logic
â”‚   â”‚   â”œâ”€â”€ agent/             # Computer use agent
â”‚   â”‚   â””â”€â”€ main.py            # FastAPI app
â”‚   â”œâ”€â”€ alembic/               # Database migrations
â”‚   â”œâ”€â”€ tests/                 # Backend tests
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/                   # Simple HTML/JS frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml          # Docker orchestration
â”œâ”€â”€ .env.example               # Environment template
â””â”€â”€ README.md
```

## ğŸ“š Documentation

### Quick Links
- **[ğŸš€ Quick Start Guide](docs/QUICKSTART.md)** - Get up and running in 5 minutes
- **[ğŸ”§ API Documentation](docs/API.md)** - Complete REST API reference
- **[ğŸ—ï¸ Architecture Guide](docs/ARCHITECTURE.md)** - System design and patterns
- **[ğŸš¢ Deployment Guide](docs/DEPLOYMENT.md)** - Production deployment instructions

### Core Concepts
- **[AI Agent Design](docs/ARCHITECTURE.md#ai-agent-architecture)** - How the generative agent works
- **[Command Format](docs/ARCHITECTURE.md#command-generation-format)** - JSON structure for commands
- **[System Flow](docs/ARCHITECTURE.md#data-flow-architecture)** - Request processing pipeline
- **[Security Model](docs/ARCHITECTURE.md#security-architecture)** - Container and API security

### Development
- **[Contributing Guide](CONTRIBUTING.md)** - How to contribute to the project
- **[Code Standards](CONTRIBUTING.md#code-standards)** - Coding conventions and practices
- **[Testing Guide](CONTRIBUTING.md#testing)** - Running and writing tests
- **[Development Setup](CONTRIBUTING.md#development-setup)** - Local development environment

### Operations
- **[Environment Configuration](.env.example)** - All configuration options
- **[Health Monitoring](docs/DEPLOYMENT.md#monitoring--troubleshooting)** - Service health checks
- **[Troubleshooting](docs/DEPLOYMENT.md#troubleshooting)** - Common issues and solutions
- **[Backup & Recovery](docs/DEPLOYMENT.md#backup--disaster-recovery)** - Data protection strategies

### Project Information
- **[Changelog](CHANGELOG.md)** - Version history and release notes
- **[License](LICENSE)** - MIT License terms
- **[Release Notes](CHANGELOG.md#100---2024-08-11)** - Latest version information

## ğŸ¤ Contributing

We welcome contributions to VNCagentic! Whether you're fixing bugs, adding features, or improving documentation, your help is appreciated.

### Quick Start for Contributors
```bash
# Fork and clone the repository
git clone https://github.com/your-username/VNCagentic.git
cd VNCagentic

# Set up development environment
cp .env.example .env
# Add your API keys to .env

# Start development containers
docker-compose up --build -d

# Make your changes and test
# Submit a pull request
```

### Ways to Contribute
- ğŸ› **Bug Fixes**: Report and fix issues
- âœ¨ **New Features**: Add desktop applications, improve AI responses
- ğŸ“– **Documentation**: Improve guides, add examples
- ğŸ§ª **Testing**: Add test coverage, test edge cases
- ğŸš€ **Performance**: Optimize code, improve resource usage

### Development Guidelines
- Follow our [Code Standards](CONTRIBUTING.md#code-standards)
- Write tests for new functionality
- Update documentation for changes
- Use conventional commit messages

ğŸ“– **See [Contributing Guide](CONTRIBUTING.md) for detailed instructions**

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ“ Support & Community

### Getting Help
- **ğŸ“– Documentation**: Check [docs/](docs/) directory first
- **ğŸ› Issues**: [Create a GitHub issue](../../issues) for bugs
- **ğŸ’¬ Discussions**: Use [GitHub discussions](../../discussions) for questions
- **ğŸ“§ Contact**: Create an issue for project-specific questions

### Troubleshooting
1. Check the [Quick Start Guide](docs/QUICKSTART.md#troubleshooting-quick-fixes)
2. Review [Deployment Troubleshooting](docs/DEPLOYMENT.md#troubleshooting)
3. Search existing GitHub issues
4. Check container logs: `docker-compose logs -f`

### Project Stats
- **Language**: Python, JavaScript, Docker
- **Framework**: FastAPI, HTML/CSS/JS
- **Database**: PostgreSQL, Redis
- **Deployment**: Docker Compose
- **License**: MIT
- **Status**: âœ… Production Ready

---

**VNCagentic** - Bringing natural language control to desktop environments through pure AI generation.

*Built with â¤ï¸ by [Taufiq Rorkyendo](https://github.com/rorkyendo).*
